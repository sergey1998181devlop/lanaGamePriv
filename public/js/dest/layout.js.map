{"version":3,"sources":["../src/99-script.js","../src/01-form-data-auto-save.js","../src/01-plugin-code-input.jquery.js","../src/01-plugin-form-wizard.jquery.js","../src/01-plugin-hide-from-search-form.js","../src/01-plugin-mobile-menu.js","../src/02-layout.js","../src/10-add-offer-form.js","../src/10-article-comments.js","../src/10-page-add-club-form.js","../src/10-page-add-club-start-form.js","../src/10-page-cities-list.js","../src/10-page-club-photo-modal.js","../src/10-page-liked-club.js","../src/10-page-user-profile-form.js","../src/10-search-club-by-map.js","../src/10-select-city-and-subway.js"],"names":["recaptchaCallback","window","recaptchaForm","submit","jQuery","storageGetAll","form_name","data","JSON","parse","localStorage","getItem","e","storageGet","input_name","storageSet","value","setItem","stringify","each","$form","this","on","$input","attr","val","checked","find","addEventListener","removeItem","capture","CODE_ALLOWED_KEYBOARD_KEYS","fn","extend","codeInput","options","inputCount","inputWrapperClass","$self","$wrapper","i","key","keyCode","which","indexOf","preventDefault","$this","type","trigger","length","next","setTimeout","prev","append","hide","after","formWizard","self","inputWrapperSelector","inputErrorSelector","submitButtonSelector","prevButtonSelector","prevButtonText","nextButtonSelector","nextButtonText","tabSelector","activeTab","$submitButton","$prevButton","$nextButton","$tabs","showTab","goToNextTab","goToPrevTab","setInputError","validateActiveTab","index","$closingTab","eq","$openingTab","activeTabPrevButtonText","activeTabNextButtonText","show","toggle","text","then","catch","$activeTab","standardValidation","Promise","resolve","reject","hasErrors","test","validateStandardInputErrors","customTabValidation","all","input","error","$formGroup","closest","$error","toggleClass","$","document","ajax","url","success","$body","removeClass","ajaxSetup","headers","X-CSRF-TOKEN","select2","amd","define","ArrayAdapter","Utils","DependsOnSelectAdapter","$element","__super__","constructor","call","Extend","prototype","current","callback","$select","$option","results","push","id","query","params","$dependOnSelect","dependValue","term","filteredTerm","toLowerCase","replaceAll","filter","filteredText","includes","Layout","isAdmin","isPlayer","isOwner","isGuest","showInfoModal","html","remodal","open","initSelect2","minimumResultsForSearch","placeholder","dropdownParent","width","is","Infinity","$dependSelect","dataAdapter","require","$dropdown","fileUpload","file","onprogress","xhr","XMLHttpRequest","formData","FormData","name","size","upload","event","loaded","total","onload","onerror","response","responseText","errors","status","send","$upload_file_input","$upload_hidden_input","$offer_img_wrapper","$add_offer_photo_text","changeOfferImage","img_url","serialize","files","$main_comment_form","$add_comment_wrapper","comment_count_label_formatter","IntlMessageFormat","hasClass","$main_ul","css","prop","qty_comments","button_text","format","count","remove","addClass","$comment","$comment_item","$rating","saved_vote","vote","rating","trim","$city_input","$save_draft","$club_photo_hidden_input","$club_select_metro_input","$main_preview_photo_hidden_input","$club_photo_file_input","$club_price_file_input","$club_price_hidden_input","$club_price_file_text","$add_photo_preview","$add_photo_list","draft_url","club_id","upload_file","blockToggle","selector","state","$block","tabIndex","stop","animate","scrollTop","location","href","$tab","$address_input","$lat","$lon","autocomplete","lookup","done","cityName","method","apikey","YANDEX_API_KEY","geocode","json","suggestions","map","GeoObjectCollection","featureMember","dataItem","coord","quma","address","GeoObject","Point","pos","description","onSelect","suggestion","coor","split","$qty_pc_val","$qty_vip_pc_val","$photo_error","$progressbar","x","main_file","is_uploading","renderFiles","join","empty","forEach","path","selectMainFile","promises","sizes","Map","uploaded","set","renderProgressBarInterval","setInterval","uploadedPercents","uploadedAll","totalAll","values","getTotalUploadedPercent","addFile","finally","clearInterval","$item","$img","splice","removeFile","$input_week_schedule","$input_day_schedule","$input_payment","$configuration","$navs","$tab_tpl","$create_tab_button","tab_tpl_html","tab_count","last_tab_index","active_tab_index","$input_common_area_qty_pc","$input_vip_area_qty_pc","recalc_qty_pc","$input_new_area","$qty_common_val","show_tab","tab_index","tab_html","replace","generate_tab_html","tab","remove_tab","$tabWithError","$console_select_tmp_html","add_button","parent_list","random","Math","toFixed","clubName","clubAddress","clubPrice","clubSubway","clubSubwayLineColor","totalPc","consoleQty","vr","autosim","marketingInput","style","setProperty","$firstForm","$secondForm","$step_back","$lastForm","codeFormInterval","regForm","querySelector","phoneNumber","getTimeText","time","seconds","floor","scrollIntoView","behavior","phone","inputmask","_token","msg","$countdown","$reSendCode","startCountDown","responseJSON","item","confirm_code","$letterCheckboxes","$uncheckFilter","filteredLetters","filterSearchValue","cityElements","cityLinksByName","cityLinksByFirstLetter","renderFilteredItems","display","firstLetter","convertSearchText","querySelectorAll","element","textContent","substr","toArray","$modal","$slick","$counter","total_count","setCounterText","slide","slick","infinite","slidesToShow","slidesToScroll","prevArrow","nextArrow","currentSlide","nextSlide","$inputPhone","$codeWrapper","$codeDescription","newPhoneNumber","oldPhoneNumber","submitForm","$map","getElementById","clubGeoList","clubPlacemarks","activeClubId","zoomTop","matchMedia","matches","ymaps","ready","scrollParent","wrapper","center","fixCoordinatesCenter","CITY_LAT","CITY_LON","MAP_ZOOM","zoom","behaviors","controls","clusterer","Clusterer","clusterIcons","offset","color","textColor","groupByCoordinates","clusterDisableClickZoom","clusterHideIconOnBalloonOpen","geoObjectHideIconOnBalloonOpen","hasBalloon","minClusterSize","zoomControl","control","ZoomControl","position","left","right","top","activateClubById","getZoom","IS_GLOBAL_MAP","setCenter","geometry","getCoordinates","duration","timingFunction","coords","y","renderMapPlacemarks","lon","lat","bounds","getBounds","latMin","latMax","lonMin","lonMax","placemark","Placemark","iconLayout","iconImageHref","iconImageSize","iconImageOffset","zIndex","events","add","$club","list","getComputedStyle","styleElem","listOffsetTop","elementOffsetTop","listScrollTop","wrapperHeight","parseFloat","height","elemHeight","listOffsetLeft","elementOffsetLeft","listScrollLeft","scrollLeft","wrapperPaddingLeft","paddingTop","scrollToElement","createClubPlacemark","geoObjects","min","dataType","cache","q","page","selected","change","has_metro","city_id","mask","removeMaskOnSubmit","onincomplete","oncomplete","focus","input_val","isNaN","not","scrollbar","appendTo","hashTracking","closeOnOutsideClick","variableWidth","responsive","breakpoint","settings","totalPhoto","direction","activeIndex","slides","getBoundingClientRect","sortedSlides","sort","a","b","abs","getActiveSlide","target","ym","gtag","event_category","event_action","_href","fancybox","loop","grecaptcha","getResponse"],"mappings":"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","file":"layout.js","sourcesContent":["jQuery(function() {\n\n    Layout.initSelect2();\n\n    jQuery('.club_page_services_list .club_services_mobile_toggle').on('click', function(e) {\n        jQuery(this).toggleClass('active')\n            .closest('.club_page_services_list').toggleClass('mob_toggle')\n            .find('.mob_hide').toggleClass('active');\n    });\n\n    jQuery('input[type=\"tel\"]').inputmask({\n        mask: '+7 (999) 999-99-99',\n        removeMaskOnSubmit: true,\n        onincomplete: function() {\n            this.value = '';\n        },\n        'oncomplete': function() {\n            if ($(this).attr('id') == 'log-in-phone-input') {\n                $('#log-in-password-input').focus();\n            }\n        }\n    });\n\n    jQuery('input[type=\"number\"]').on('input change', function(e) {\n        let input_val = +jQuery(this).val();\n\n        if (input_val <= 0 || isNaN(input_val)) {\n            jQuery(this).val('');\n        }\n    });\n\n    jQuery('ul.club_list_navigation_tabs li a').on('click', function(e) {\n        e.preventDefault();\n\n        let $this = jQuery(this),\n            $tab = jQuery($this.attr('href'));\n\n        if ($this.is('.active')) {\n            return;\n        }\n\n        jQuery('ul.club_list_navigation_tabs li a.active').removeClass('active');\n\n        $this.addClass('active');\n        $tab.show();\n\n        jQuery('.club_list_content_tabs .tab').not($tab).hide();\n    });\n\n    jQuery('.club_page_toggle_content').on('click', function(e) {\n        jQuery(this).closest('.toggle_block_wrapper').find('.toggle_block').toggle();\n        jQuery(this).toggleClass('active');\n    });\n\n    jQuery('.review_content_wrapper').scrollbar();\n\n    jQuery('.person_add_club_modal').remodal({\n        appendTo: jQuery('.person_add_club_modal_wrapper'),\n        hashTracking: false,\n        closeOnOutsideClick: false\n    });\n\n    jQuery('.tariffs_modal').remodal({\n        appendTo: jQuery('.tariffs_modal_wrapper'),\n        hashTracking: false\n    });\n\n    jQuery('.club_page_reviews_list').slick({\n        infinite: false,\n        slidesToShow: 4,\n        slidesToScroll: 1,\n        variableWidth: true,\n        prevArrow: '<button type=\"button\" class=\"slick-prev slick-arrow\"><img src=\"../../img/left1.svg\" alt=\"arrow\"></button>',\n        nextArrow: '<button type=\"button\" class=\"slick-next slick-arrow\"><img src=\"../../img/right1.svg\" alt=\"arrow\"></button>',\n        responsive: [\n            {\n                breakpoint: 700,\n                settings: {\n                    slidesToShow: 1,\n                    slidesToScroll: 1\n                }\n            }\n        ]\n    });\n\n    jQuery('.our_team_list').slick({\n        infinite: true,\n        slidesToShow: 5,\n        slidesToScroll: 1,\n        variableWidth: true,\n        prevArrow: '<button type=\"button\" class=\"slick-prev slick-arrow\"><img src=\"../../img/left1.svg\" alt=\"arrow\"></button>',\n        nextArrow: '<button type=\"button\" class=\"slick-next slick-arrow\"><img src=\"../../img/right1.svg\" alt=\"arrow\"></button>',\n        responsive: [\n            {\n                breakpoint: 700,\n                settings: {\n                    slidesToShow: 1,\n                    slidesToScroll: 1\n                }\n            }\n        ]\n    });\n\n    // club page (mobile) - counter photo in gallery\n    let scrollLeft = 0,\n        totalPhoto = jQuery('.club_page_photo_list .club_page_photo_item').length;\n\n    jQuery('.club_page_photo_list').on('scroll', function(e) {\n        let direction = this.scrollLeft >= scrollLeft ? 'right' : 'left';\n\n        scrollLeft = this.scrollLeft;\n\n        let activeIndex = getActiveSlide(this, '.club_page_photo_item', direction);\n\n        jQuery(this).closest('.club_page_photo_wrapper').find('.counter').text(`${activeIndex + 1} / ${totalPhoto}`);\n    });\n\n    jQuery(window).on('resize', function(e) {\n        jQuery('.club_page_photo_list').trigger('scroll');\n    });\n\n    jQuery('.club_page_photo_list').trigger('scroll');\n\n    function getActiveSlide(list, item, direction) {\n        let slides = [];\n\n        jQuery(list).find(item).each(function(index, element) {\n            slides.push({\n                index: index,\n                x: element.getBoundingClientRect().x\n            });\n        });\n\n        let sortedSlides = slides\n            .filter(({x}) => direction === 'right' ? x >= 0 : x <= 0)\n            .sort((a, b) => Math.abs(a.x) - Math.abs(b.x));\n\n        return sortedSlides?.[0]?.index || 0;\n    }\n\n    jQuery('.log_in_form_toggle').on('click', function(e) {\n        e.preventDefault();\n        jQuery('.header_menu .log_in_block_wrapper').toggle();\n        jQuery(this).toggleClass('active');\n    });\n\n    jQuery(document).on('click', function(e) {\n        if (jQuery('.header_menu .log_in_block_wrapper').is(':visible')\n            && jQuery(e.target).closest('.log_in_block_wrapper').length === 0\n            && !jQuery(e.target).is('.log_in_form_toggle')) {\n            jQuery('.header_menu .log_in_block_wrapper').hide();\n            jQuery('.log_in_form_toggle').removeClass('active');\n        }\n    });\n\n    jQuery('#open_search_form').on('click', function(e) {\n        ym(82365286, 'reachGoal', 'search');\n        gtag('event', 'send', {'event_category': 'search', 'event_action': 'click'});\n        jQuery('.search .search_form').addClass('active');\n        jQuery('.search .search_form #search-text').focus();\n\n    });\n\n    jQuery('#close_search_form').on('click', function(e) {\n        jQuery('.search .search_form').removeClass('active');\n    });\n\n    jQuery('.langame_software_options .option').on('click', function(e) {\n        jQuery(this).closest('.option_item').toggleClass('active');\n    });\n\n    /**\n     * Scroll page handlers\n     */\n    (() => {\n        jQuery(window).on('scroll resize', function() {\n            jQuery('[data-track-sticky]').each(function() {\n                let $this = jQuery(this),\n                    y = this.getBoundingClientRect().y;\n\n                $this\n                    .toggleClass('sticky', y === 0)\n                    .toggleClass('not-sticky', y !== 0);\n            });\n        });\n    })();\n\n    jQuery('a[href^=\"#block-\"]').on('click', function(e) {\n        e.preventDefault();\n        const _href = jQuery(this).attr('href');\n        jQuery('html, body').animate({scrollTop: jQuery(_href).offset().top + 'px'});\n    });\n\n    jQuery('#gamer-mailing-form,#owner-mailing-form').on('submit', function(e) {\n        e.preventDefault();\n        let $form = jQuery(this);\n        jQuery.ajax({\n            type: 'POST',\n            url: $form.attr('action'),\n            data: $form.serialize(),\n            success: function() {\n                jQuery('[data-remodal-id=\"mailing_success_modal\"]').remodal().open();\n            }\n        });\n    });\n\n    jQuery('[data-fancybox]').fancybox({\n        loop: true\n    });\n\n    jQuery('.remodal.mailing_modal').on('opening', function(e) {\n        jQuery(this).find('form input[name=\"email\"]').val('');\n    });\n\n    jQuery('.offer_content_wrapper').on('click', '.show_offer_contacts', function(e) {\n        jQuery(this).closest(jQuery('.offer_content_wrapper')).find('.contacts_wrapper').show();\n        jQuery(this).hide();\n    });\n\n    jQuery('.offer_instr_toggle_mobile').on('click', function(e) {\n        jQuery(this).toggleClass('active');\n        jQuery(this).closest('.attention_text_wrapper').find('.instr').toggle();\n    });\n\n    jQuery('[data-open-select-city]').on('click', function(e) {\n        $('#city_selector').select2('open');\n        e.preventDefault();\n        const _href = jQuery(this).attr('href');\n        jQuery('html, body').animate({scrollTop: jQuery(_href).offset().top + 'px'});\n    });\n\n    jQuery('[data-recaptcha-form]').on('submit', function(e) {\n        let $form = jQuery(this),\n            response = window.grecaptcha.getResponse();\n\n        if (!response) {\n            e.preventDefault();\n\n            window.recaptchaForm = this;\n\n            $form.find('.recaptcha-holder').addClass('active');\n            $form.find('[type=\"submit\"]').hide();\n        }\n    });\n\n    jQuery('#search-form').on('submit', function(e) {\n        e.preventDefault();\n    });\n\n    jQuery('#report-club-form').on('submit', function(e) {\n        e.preventDefault();\n\n        jQuery.ajax({\n            type: 'POST',\n            url: jQuery(this).attr('action'),\n            data: jQuery(this).serialize(),\n            success: function() {\n                jQuery('[data-remodal-id=\"success_modal\"]').remodal().open();\n            }\n        });\n    });\n});\n\nfunction recaptchaCallback() {\n    window.recaptchaForm?.submit();\n}\n","jQuery(function() {\n    // data-auto-save=\"add-club-form\"\n    jQuery('[data-auto-save]').each(function() {\n        let $form = jQuery(this),\n            form_name = $form.data('auto-save');\n\n        $form.on('change input', 'input:not([type=\"file\"]):not([type=\"radio\"]):not([type=\"checkbox\"]), textarea, select', function(e) {\n            let $input = jQuery(this),\n                input_name = $input.attr('name');\n            storageSet(form_name, input_name, $input.val());\n        });\n\n        $form.on('change', 'input[type=\"radio\"], input[type=\"checkbox\"]', function(e) {\n            let $input = jQuery(this),\n                input_name = $input.attr('name');\n            storageSet(form_name, input_name, this.checked ? $input.val() : null);\n        });\n\n        $form.find('input:not([type=\"file\"]):not([type=\"radio\"]):not([type=\"checkbox\"]), select, textarea').each(function() {\n            let $input = jQuery(this),\n                input_name = $input.attr('name');\n\n            if ($input.val() === '') {\n                $input.val(storageGet(form_name, input_name) || '');\n            }\n        });\n\n        $form.find('input[type=\"checkbox\"], input[type=\"radio\"]').each(function() {\n            let $input = jQuery(this),\n                input_name = $input.attr('name'),\n                value = storageGet(form_name, input_name);\n\n            if(value !== null){\n                this.checked = $input.val() === value;\n            }\n        });\n\n        $form[0].addEventListener(\n            'submit',\n            () => localStorage.removeItem(form_name),\n            {capture: true}\n        );\n\n        $form[0].addEventListener(\n            'reset',\n            () => localStorage.removeItem(form_name),\n            {capture: true}\n        );\n    });\n\n    function storageGetAll(form_name) {\n        let data = {};\n\n        try {\n            data = JSON.parse(localStorage.getItem(form_name) || '{}');\n        } catch (e) {\n\n        }\n\n        return data;\n    }\n\n    function storageGet(form_name, input_name) {\n        let data = storageGetAll(form_name);\n\n        return data[input_name] || null;\n    }\n\n    function storageSet(form_name, input_name, value = null) {\n        let data = storageGetAll(form_name);\n\n        if(value !== null){\n            data[input_name] = value;\n        }else{\n            delete data[input_name];\n        }\n\n        localStorage.setItem(form_name, JSON.stringify(data));\n    }\n});\n","(() => {\n    // use strict\n\n    const KEY_BACKSPACE = 8,\n        KEY_TAB = 9,\n        KEY_DELETE = 46,\n        KEY_ENTER = 13,\n        CODE_ALLOWED_KEYBOARD_KEYS = [\n            112, /* F1 */  48, /* 0 main keyboard */ 96,  /* 0 side keyboard */\n            113, /* F2 */  49, /* 1 main keyboard */ 97,  /* 1 side keyboard */\n            114, /* F3 */  50, /* 2 main keyboard */ 98,  /* 2 side keyboard */\n            115, /* F4 */  51, /* 3 main keyboard */ 99,  /* 3 side keyboard */\n            116, /* F5 */  52, /* 4 main keyboard */ 100, /* 4 side keyboard */\n            117, /* F6 */  53, /* 5 main keyboard */ 101, /* 5 side keyboard */\n            118, /* F7 */  54, /* 6 main keyboard */ 102, /* 6 side keyboard */\n            119, /* F8 */  55, /* 7 main keyboard */ 103, /* 7 side keyboard */\n            120, /* F9 */  56, /* 8 main keyboard */ 104, /* 8 side keyboard */\n            121, /* F10 */ 57, /* 9 main keyboard */ 105, /* 9 side keyboard */\n            122, /* F11 */\n            123, /* F12 */\n\n            KEY_BACKSPACE,\n            KEY_TAB,\n            KEY_DELETE,\n            KEY_ENTER\n        ];\n\n    jQuery.fn.extend({\n        codeInput(options = {}) {\n            let inputCount = options.inputCount || 4,\n                inputWrapperClass = options.inputWrapperClass || 'code_input_wrapper';\n\n            jQuery(this).each(function() {\n                let $self = jQuery(this),\n                    $wrapper = jQuery(`<div class=\"${inputWrapperClass}\"></div>`);\n\n                for (let i = 0; i < inputCount; ++i) {\n                    let $input = jQuery('<input type=\"text\" maxlength=\"1\">');\n\n                    $input.on('keydown', function(e) {\n                        let key = e.keyCode || e.which;\n\n                        if (CODE_ALLOWED_KEYBOARD_KEYS.indexOf(key) === -1) {\n                            e.preventDefault();\n                        }\n                    });\n\n                    $input.on('keyup input', function(e) {\n                        let $this = jQuery(this),\n                            key = e.keyCode || e.which,\n                            value = '';\n\n                        $wrapper.find('input').each(function() {\n                            value += jQuery(this).val();\n                        });\n\n                        $self.val(value);\n\n                        if (key === KEY_BACKSPACE || key === KEY_DELETE) {\n                            $this.val('').prev('input').trigger('focus');\n\n                            return;\n                        }\n\n                        if (e.type === 'input') {\n                            $self.trigger('input');\n                        }\n\n                        if ($this.val().length === 1) {\n                            if ($this.next('input').length > 0) {\n                                $this.next('input').trigger('focus');\n                            } else {\n                                if (e.type === 'input') {\n                                    setTimeout(() => {\n                                        $self.trigger('change');\n                                    }, 50);\n                                }\n                            }\n                        }\n                    });\n\n                    $wrapper.append($input);\n                }\n\n                $self.hide();\n                $self.after($wrapper);\n            });\n        }\n    });\n\n    jQuery(function() {\n        jQuery('[data-input-code]').codeInput();\n    });\n})();","(() => {\n    // use strict\n\n    jQuery.fn.extend({\n        formWizard(options = {}) {\n            let self = this,\n                inputWrapperSelector = options.inputWrapperSelector || '.form-group',\n                inputErrorSelector = options.inputErrorSelector || '.error',\n                submitButtonSelector = options.submitButtonSelector || '[type=\"submit\"]',\n                prevButtonSelector = options.prevButtonSelector || '[data-role=\"prev-tab-button\"]',\n                prevButtonText = options.prevButtonText || 'Назад',\n                nextButtonSelector = options.nextButtonSelector || '[data-role=\"next-tab-button\"]',\n                nextButtonText = options.nextButtonText || 'Вперед',\n                tabSelector = options.tabSelector || '[data-role=\"tabs\"]',\n                activeTab = options.activeTab || 0;\n\n            let $submitButton = self.find(submitButtonSelector),\n                $prevButton = self.find(prevButtonSelector),\n                $nextButton = self.find(nextButtonSelector),\n                $tabs = self.find(tabSelector);\n\n            if ($tabs.length <= 1) {\n                return null;\n            }\n\n            showTab(activeTab);\n\n            $nextButton.on('click', goToNextTab);\n            $prevButton.on('click', goToPrevTab);\n\n            this.on('input change', 'input, textarea, select', function() {\n                setInputError(this, '');\n            });\n\n            function showTab(index) {\n                let $closingTab = activeTab !== index ? $tabs.eq(activeTab) : jQuery(),\n                    $openingTab = $tabs.eq(index),\n                    activeTabPrevButtonText = $openingTab.data('prev-button-text') || prevButtonText,\n                    activeTabNextButtonText = $openingTab.data('next-button-text') || nextButtonText;\n\n                $closingTab.trigger('close');\n                $openingTab.trigger('open');\n\n                $tabs.hide();\n                $openingTab.show();\n\n                $submitButton.toggle(index === $tabs.length - 1);\n                $prevButton.toggle(index > 0).text(activeTabPrevButtonText);\n                $nextButton.toggle(index < $tabs.length - 1).text(activeTabNextButtonText);\n\n                activeTab = index;\n\n                self.trigger('show-tab', [activeTab]);\n            }\n\n            function goToNextTab() {\n                if (activeTab >= $tabs.length - 1) {\n                    return;\n                }\n\n                validateActiveTab()\n                    .then(function() {\n                        showTab(activeTab + 1);\n                    })\n                    .catch(function() {\n                        self.trigger('error-tab');\n                    });\n            }\n\n            function goToPrevTab() {\n                if (activeTab === 0) {\n                    return;\n                }\n\n                showTab(activeTab - 1);\n            }\n\n            function validateStandardInputErrors() {\n                let $activeTab = $tabs.eq(activeTab);\n\n                return new Promise((resolve, reject) => {\n                    let hasErrors = false;\n\n                    $activeTab.find('input, select, textarea').each(function() {\n                        setInputError(this, '');\n                    });\n\n                    $activeTab.find(\n                        'input[required][type=\"text\"]:not(:disabled),' +\n                        'input[required][type=\"password\"]:not(:disabled),' +\n                        'input[required][type=\"email\"]:not(:disabled),' +\n                        'input[required][type=\"tel\"]:not(:disabled),' +\n                        'input[required][type=\"url\"]:not(:disabled),' +\n                        'input[required][type=\"number\"]:not(:disabled),' +\n                        'select[required]:not(:disabled),' +\n                        'textarea[required]:not(:disabled)'\n                    ).each(function() {\n                        let $input = jQuery(this),\n                            value = $input.val();\n\n                        if (!value) {\n                            hasErrors = true;\n                            setInputError(this, 'Необходимо заполнить данное поле');\n                        }\n                    });\n\n                    $activeTab.find('input[type=\"email\"]:not(:disabled)').each(function() {\n                        let $input = jQuery(this),\n                            value = $input.val();\n\n                        if (value && /^.+@.+\\..+$/.test(value) === false) {\n                            hasErrors = true;\n                            setInputError(this, 'Необходимо ввести валидный e-mail');\n                        }\n                    });\n\n                    return hasErrors ? reject() : resolve();\n                });\n            }\n\n            function validateActiveTab() {\n                let $activeTab = $tabs.eq(activeTab),\n                    standardValidation = validateStandardInputErrors(),\n                    customTabValidation = typeof $activeTab.data('form-wizard-tab-validation') === 'function' ? $activeTab.data('form-wizard-tab-validation')() : true;\n\n                return Promise.all([\n                    standardValidation,\n                    customTabValidation\n                ]);\n            }\n\n            function setInputError(input, error) {\n                let $formGroup = jQuery(input).closest(inputWrapperSelector),\n                    $error = $formGroup.find(inputErrorSelector);\n\n                $formGroup.toggleClass('has-error', !!error);\n\n                $error.text(error || '');\n            }\n\n            return {\n                showTab,\n                goToNextTab,\n                goToPrevTab,\n                validateActiveTab\n            };\n        }\n    });\n})();\n","$(document).on('change', '.hide-from-search-form input[type=\"checkbox\"]', function() {\n    jQuery.ajax({\n        type: 'get',\n        url: $(this).closest('form').attr('action'),\n        success: function() {\n        },\n        error: function() {\n        }\n    });\n});\n","jQuery(function() {\n    let $body = jQuery('body');\n\n    jQuery('.mobile_menu_btn').on('click', function(e) {\n        e.preventDefault();\n        $body.toggleClass('mobile-menu-opened');\n    });\n\n    jQuery('.mobile_menu_bg').on('click', function() {\n        $body.removeClass('mobile-menu-opened');\n    });\n});\n\n","jQuery(function() {\n    $.ajaxSetup({\n        headers: {\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n        }\n    });\n\n    jQuery.fn.select2.amd.define('select2/data/dependsOnSelectAdapter', ['select2/data/array', 'select2/utils'], function(ArrayAdapter, Utils) {\n        function DependsOnSelectAdapter($element, options) {\n            DependsOnSelectAdapter.__super__.constructor.call(this, $element, options);\n        }\n\n        Utils.Extend(DependsOnSelectAdapter, ArrayAdapter);\n\n        DependsOnSelectAdapter.prototype.current = function(callback) {\n            let $select = this.$element,\n                $option = $select.find(`option[value=\"${$select.val()}\"]`),\n                results = [];\n\n            if ($option.length > 0) {\n                results.push({\n                    id: $option.val(),\n                    text: $option.text()\n                });\n            }\n\n            callback(results);\n        };\n\n        DependsOnSelectAdapter.prototype.query = function(params, callback) {\n            let $select = this.$element,\n                $dependOnSelect = jQuery($select.data('select2-depends-on')),\n                results = [];\n\n            $select.find('option[data-depend-value]').each(function() {\n                let $option = jQuery(this),\n                    dependValue = $option.data('depend-value');\n\n                if (dependValue === $dependOnSelect.val()) {\n                    results.push({\n                        id: $option.val(),\n                        text: $option.text()\n                    });\n                }\n            });\n\n            if (params?.term) {\n                let filteredTerm = params.term.toLowerCase().replaceAll(/[^а-яёa-z0-9]/muig, '');\n\n                results = results.filter(({text}) => {\n                    let filteredText = text.toLowerCase().replaceAll(/[^а-яёa-z0-9]/muig, '');\n\n                    return filteredText.includes(filteredTerm);\n                });\n            }\n\n            callback({results});\n        };\n\n        return DependsOnSelectAdapter;\n    });\n});\n\nwindow.Layout = (() => {\n    return {\n        isAdmin(){\n            return  jQuery('meta[name=\"is_admin\"]').attr('content') === '1';\n            },\n        isPlayer(){\n            return  jQuery('meta[name=\"user-role\"]').attr('content') === 'player';\n        },\n        isOwner(){\n            return  jQuery('meta[name=\"user-role\"]').attr('content') === 'owner';\n        },\n        isGuest(){\n            return  jQuery('meta[name=\"user-role\"]').attr('content') === 'guest';\n        },\n\n        showInfoModal(text){\n            jQuery('[data-remodal-id=\"success_modal\"]')\n                .find('.title')\n                .html(text)\n            jQuery('[data-remodal-id=\"success_modal\"]').remodal().open();\n        },\n\n        initSelect2() {\n            jQuery('.select2_wrapper select:not([data-select2-id]):not([data-select2-skip-auto-init])').each(function() {\n                let $this = jQuery(this),\n                    options = {\n                        minimumResultsForSearch: 1,\n                        placeholder: $this.data('placeholder'),\n                        dropdownParent: $this.closest('.select2_wrapper'),\n                        width: '100%'\n                    };\n\n                if ($this.is('[data-select2-without-search]')) {\n                    options.minimumResultsForSearch = Infinity;\n                }\n\n                if ($this.is('[data-select2-depends-on]')) {\n                    let $dependSelect = jQuery($this.data('select2-depends-on'));\n\n                    options.dataAdapter = jQuery.fn.select2.amd.require('select2/data/dependsOnSelectAdapter');\n\n                    $dependSelect.on('change', function() {\n                        $this.val('').trigger('change');\n                    });\n                }\n\n                $this.select2(options).on('select2:opening', function(e) {\n                    $this.data('select2').$dropdown.find(':input.select2-search__field').attr('placeholder', 'Поиск...');\n                });\n            });\n        },\n\n        fileUpload(file, url = '/clubs/add-image', onprogress = null) {\n            return new Promise((resolve, reject) => {\n                let xhr = new XMLHttpRequest(),\n                    formData = new FormData();\n\n                formData.append('file', file, file.name);\n                formData.append('_token', $('[name=\"_token\"]').val());\n\n                if (typeof onprogress === 'function') {\n                    onprogress(0, file.size);\n                }\n\n                xhr.upload.onprogress = function(event) {\n                    if (typeof onprogress === 'function') {\n                        onprogress(event.loaded, event.total);\n                    }\n                };\n\n                xhr.onload = xhr.onerror = function() {\n                    try {\n                        let response = JSON.parse(xhr.responseText);\n\n                        if (response.error) {\n                            return reject(response.error);\n                        }\n\n                        if(response?.errors?.file){\n                            return reject(response?.errors?.file);\n                        }\n\n                        if(xhr.status >= 400){\n                            return reject('Произошла непредвиденная ошибка');\n                        }else{\n                            resolve(response.data);\n                        }\n                    } catch (e) {\n                        return reject('Произошла непредвиденная ошибка');\n                    }\n                };\n\n                xhr.open('POST', url, true);\n                xhr.send(formData);\n            });\n        }\n    };\n})();\n\n","jQuery(function() {\n    let $form = jQuery('#add-offer-form'),\n        $upload_file_input = jQuery('#add-photo-offer-input'),\n        $upload_hidden_input = jQuery('#offer_photos_input'),\n        $offer_img_wrapper = jQuery('.offer_img_wrapper'),\n        $add_offer_photo_text = jQuery('.add-offer-photo-text');\n\n    $form.on('submit', function(e) {\n        e.preventDefault();\n\n        jQuery.ajax({\n            type: 'POST',\n            url: $form.attr('action'),\n            data: $form.serialize(),\n            success: function() {\n                $form.text(\"Объявление успешно отправлено. Ожидайте обратной связи.\");\n            }\n        });\n    });\n\n    $upload_file_input.on('change', function(e) {\n        if(this.files.length === 0){\n            $add_offer_photo_text.text('Загрузить');\n            changeOfferImage('');\n            return;\n        }\n\n        let file = this.files[0];\n\n        Layout.fileUpload(file).then((img_url) => {\n            $add_offer_photo_text.text('Фото загружено');\n            $offer_img_wrapper.append('<button type=\"button\" data-role-remove-price-list-event></button>');\n            changeOfferImage(img_url);\n        });\n    });\n\n    $offer_img_wrapper.on('click', '[data-role-remove-price-list-event]', function(e) {\n        $add_offer_photo_text.text('Загрузить');\n        changeOfferImage('');\n    });\n\n    function changeOfferImage(img_url) {\n        $offer_img_wrapper.toggle(!!img_url).find('img').attr('src', img_url);\n        $upload_hidden_input.val(img_url);\n    }\n});","jQuery(function() {\n    let $wrapper = jQuery('.article_comments_wrapper'),\n        $main_comment_form = jQuery('#add_article_comment'),\n        $add_comment_wrapper = jQuery('.article_comments_wrapper .add_comment_wrapper'),\n        comment_count_label_formatter = new IntlMessageFormat.IntlMessageFormat('{count, plural, one{# комментарий} few{# комментария} many{# комментариев} other{# комментария}}', 'ru-RU');\n\n    $wrapper.on('submit', 'form', function(e) {\n        e.preventDefault();\n        let $form = jQuery(this);\n\n        if (Layout.isGuest()) {\n            $form.trigger('reset');\n            Layout.showInfoModal('Если хотите оставить комментарий или оценить ответ, <a href=\"/registration\">зарегистрируйтесь</a> или <a href=\"/login\">авторизуйтесь</a> на сайте.');\n        } else {\n            jQuery.ajax({\n                type: 'POST',\n                url: $form.attr('action'),\n                data: $form.serialize(),\n                success: function(data) {\n                    if ($form.hasClass('main_comment_form')) {\n                        let $main_ul = $form.closest('.article_comments_wrapper').find('.comments_list_wrapper >ul');\n\n                        $form.trigger('reset');\n                        $main_ul.append(`${data.html}`);\n\n                    } else {\n                        if ($form.closest('li').find('>ul').length === 0) {\n                            $form.closest('li').append('<ul></ul>');\n                        }\n\n                        if ($form.closest('li').find('[data-show-branch-comments]').length === 0) {\n                            $form.closest('li').append(`<button class=\"show_branch\" style=\"display: none;\" data-show-branch-comments>Развернуть ветку</button>`);\n                        }\n\n                        $form.closest('li').find('>ul').css('display', 'block').append(data.html);\n                        $form.closest('li').find('[data-show-branch-comments]').hide();\n                        $form.closest('.comment_item').find('[data-article-comment-reply]').prop('disabled', false);\n\n                        if ($form.is('.comments_list_wrapper ul ul form')) {\n                            let qty_comments = $form.closest('li').find('>ul >li >.comment_item').length,\n                                button_text = comment_count_label_formatter.format({count: qty_comments});\n\n                            $form.closest('li').find('>[data-show-branch-comments]').text(button_text);\n                        }\n\n                        $form.closest('.add_comment_wrapper').remove();\n                    }\n                }\n            });\n        }\n    });\n\n    $add_comment_wrapper.on('click focus', function() {\n        jQuery(this).addClass('active');\n    });\n\n    $main_comment_form.on('submit', function() {\n        $add_comment_wrapper.removeClass('active');\n    });\n\n    $wrapper.on('click', '[data-article-comment-reply]', function(e) {\n        if (Layout.isGuest()) {\n            Layout.showInfoModal('Если хотите оставить комментарий или оценить ответ, <a href=\"/registration\">зарегистрируйтесь</a> или <a href=\"/login\">авторизуйтесь</a> на сайте.');\n        } else {\n            let $this = jQuery(this),\n                $comment = $this.closest('.comment_item');\n\n            $this.closest('.comment_item')\n                .append(`\n            <div class=\"add_comment_wrapper active\">\n                <form method=\"post\" action=\"${$main_comment_form.attr('action')}\">\n                   <input type=\"hidden\" name=\"post_id\" value=\"${$comment.data('post-id')}\">\n                   <input type=\"hidden\" name=\"comment_id\" value=\"${$comment.data('comment-id')}\">\n                   <input type=\"hidden\" name=\"_token\" value=\"${$main_comment_form.find('[name=\"_token\"]').val()}\">\n                   <textarea placeholder=\"Написать комментарий...\" name=\"comment_body\"></textarea>\n                   <label>\n                        <input type=\"file\" id=\"add-image-article-comment\" accept=\"image/*\">\n                   </label>\n                   <button type=\"button\" class=\"remove_form\" data-remove-article-reply-form>Отмена</button>\n                   <button type=\"submit\">Отправить</button>\n                </form>\n            </div>`)\n                .find('.comment_rating')\n                .addClass('mob_position');\n            $this.prop('disabled', true);\n        }\n    });\n\n    $wrapper.on('click', '[data-remove-article-reply-form]', function(e) {\n        let $comment_item = jQuery(this).closest('.comment_item');\n        $comment_item.find('.comment_rating').removeClass('mob_position');\n        $comment_item.find('[data-article-comment-reply]').prop('disabled', false);\n        $comment_item.find('.add_comment_wrapper').remove();\n    });\n\n    $wrapper.on('click', '[data-rating-vote]', function(e) {\n        if (Layout.isGuest()) {\n            Layout.showInfoModal('Если хотите оставить комментарий или оценить ответ, <a href=\"/registration\">зарегистрируйтесь</a> или <a href=\"/login\">авторизуйтесь</a> на сайте.');\n        } else {\n            let $this = jQuery(this),\n                $rating = $this.closest('.comment_rating').find('.rating'),\n                $comment = $this.closest('.comment_item'),\n                saved_vote = $comment.data('rating-saved-vote'),\n                vote = $this.data('rating-vote'),\n                rating = +$rating.text().trim();\n\n            if (vote === saved_vote) {\n                return;\n            }\n\n            rating += vote === 'plus' ? 1 : -1;\n\n            $rating.text(rating);\n\n            if (vote === 'plus' && saved_vote === 'minus') {\n                saved_vote = '';\n            } else if (vote === 'minus' && saved_vote === 'plus') {\n                saved_vote = '';\n            } else {\n                saved_vote = vote;\n            }\n\n            $comment.data('rating-saved-vote', saved_vote);\n            $comment.toggleClass('vote-plus', saved_vote === 'plus');\n            $comment.toggleClass('vote-minus', saved_vote === 'minus');\n            $rating.toggleClass('plus', rating > 0);\n            $rating.toggleClass('minus', rating < 0);\n        }\n    });\n\n    $wrapper.on('click', '[data-show-branch-comments]', function(e) {\n        jQuery(this).closest('li').find('>ul').show();\n        jQuery(this).hide();\n    });\n\n    $wrapper.on('click', '[data-hide-branch]', function(e) {\n        jQuery(this).closest('ul')\n            .hide()\n            .closest('li')\n            .find('[data-show-branch-comments]')\n            .show();\n    });\n});\n","jQuery(function() {\n    let $form = jQuery('#add-club-form'),\n        $city_input = jQuery('#select-сity'),\n        $save_draft = $form.find('.save_draft'),\n        $club_photo_hidden_input = jQuery('#club_photos_input'),\n        $club_select_metro_input = jQuery('#select-subway'),\n        $main_preview_photo_hidden_input = jQuery('#main_preview_photo_input'),\n        $club_photo_file_input = jQuery('#add-photo-input'),\n        $club_price_file_input = jQuery('#add-price-file-input'),\n        $club_price_hidden_input = jQuery('#add-price-file-hidden-input'),\n        $club_price_file_text = jQuery('#add-price-file-text'),\n        $add_photo_preview = jQuery('#add_photo_preview'),\n        $add_photo_list = jQuery('#add_photo_list'),\n        draft_url = $form.attr('draft-action'),\n        club_id,\n        max_image_count = 10;\n\n    if ($form.length === 0) {\n        return;\n    }\n\n    let formWizard = $form.formWizard({\n        inputWrapperSelector: '.form-group',\n        inputErrorSelector: '.error',\n        submitButtonSelector: '[type=\"submit\"]',\n        prevButtonSelector: '[data-role=\"prev-tab-button\"]',\n        prevButtonText: 'Назад',\n        nextButtonSelector: '[data-role=\"next-tab-button\"]',\n        nextButtonText: 'Продолжить',\n        tabSelector: '.form_tab'\n    });\n\n    if (Layout.isAdmin()) {\n        $form.find('input[required], select[required], textarea[required]')\n            .prop('required', false)\n            .attr('required', null);\n\n        $form.find('.form_tab').append('<button type=\"submit\" class=\"save_for_admin\">Сохранить</button>')\n    }\n\n    $form.on('keydown', 'input', function(e) {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n\n            formWizard.goToNextTab();\n        }\n    });\n\n    $form.on('show-tab', function(e, tabIndex) {\n        jQuery('.person_add_club_modal_wrapper .remodal-wrapper').stop().animate({scrollTop: 0}, 300);\n        if (!$form.hasClass(\"edit_club_form\")) {\n            jQuery.ajax({\n                type: 'POST',\n                url: draft_url,\n                data: $form.serialize(),\n                success(data) {\n                    if(data.club_id) {\n                        club_id = data.club_id;\n                    }\n                    draft_url = `/personal/club/${club_id}/update-draft`;\n                }\n            });\n        }\n    });\n\n    $save_draft.on('click', function(e) {\n        jQuery.ajax({\n            type: 'POST',\n            url: $form.attr('draft-action'),\n            data: $form.serialize(),\n            success: function() {\n                location.href = '/personal/clubs?status=success';\n            }\n        });\n    });\n\n    $form.on('submit', function(e) {\n        e.preventDefault();\n\n        $form.find('button[type=\"submit\"]').addClass('disabled');\n\n        jQuery.ajax({\n            type: 'POST',\n            url: $form.attr('action'),\n            data: $form.serialize(),\n            success: function() {\n                $form.find('button[type=\"submit\"]').removeClass('disabled');\n                location.href = '/personal/clubs?status=success';\n            }\n        });\n    });\n\n    // common info validation\n\n    (() => {\n        let $tab = jQuery('.form_tab_01_common_info'),\n            $address_input = $tab.find('#club-address-input'),\n            $lat = jQuery('#lat'),\n            $lon = jQuery('#lon');\n\n        if (jQuery.fn.autocomplete) {\n            $address_input.autocomplete({\n\n                lookup: function(query, done) {\n                    let cityName = $city_input.find('option:selected').text();\n\n                    jQuery.ajax({\n                        method: 'GET',\n                        url: 'https://geocode-maps.yandex.ru/1.x/',\n                        data: {\n                            apikey: window.YANDEX_API_KEY,\n                            format: 'json',\n                            results: '5',\n                            geocode: `Россия, ${cityName}, ${query}`\n                        },\n                        success: function(json) {\n                            let suggestions = $.map(json.response.GeoObjectCollection.featureMember, function(dataItem) {\n                                let name = '',\n                                    coord,\n                                    quma = '',\n                                    address = '';\n\n                                if (dataItem.GeoObject.Point.pos != null) {\n                                    coord = dataItem.GeoObject.Point.pos;\n\n                                    if (dataItem.GeoObject.name != null) {\n                                        name = dataItem.GeoObject.name;\n                                        address = dataItem.GeoObject.name;\n                                        quma = ', ';\n                                    }\n\n                                    if (dataItem.GeoObject.description != null) {\n                                        name += quma + dataItem.GeoObject.description;\n                                    }\n\n                                    if (name) {\n                                        return {value: name, data: coord, address: address};\n                                    }\n                                }\n                            });\n\n                            done({suggestions});\n                        }\n                    });\n                },\n\n                onSelect: function(suggestion) {\n\n                    var coor = suggestion.data.split(' ');\n                    $('#add-club-form #lat').val(coor[1]).trigger('change');\n                    $('#add-club-form #lon').val(coor[0]).trigger('change');\n                    $('#add-club-form #club_address').val(suggestion.address).trigger('change');\n                    $('#add-club-form #club_full_address').val(suggestion.value).trigger('change');\n                    jQuery('.error.address_error').text('');\n                }\n            });\n        }\n\n        $address_input.on('input', function() {\n            $lat.val('');\n            $lon.val('');\n        });\n\n        $tab.data('form-wizard-tab-validation', function() {\n            return new Promise((resolve, reject) => {\n                let hasErrors = false;\n\n                jQuery('.error.address_error').text('');\n\n                if ($lat.val() === '' || $lon.val() === '') {\n                    jQuery('.error.address_error').text('Необходимо выбрать адрес из списка');\n                    hasErrors = true;\n                }\n\n                return hasErrors ? reject() : resolve();\n            });\n        });\n\n        jQuery('#rating-input').on('input change', function(e) {\n            let $this = jQuery(this);\n\n            if ($this.length === 0) {\n                return;\n            }\n\n            if ($this.val() < 0 || $this.val() > 5) {\n                $this.val('');\n            }\n        });\n\n    })();\n\n    // basic services validation\n\n    (() => {\n        let $tab = jQuery('.form_tab_02_basic_services');\n\n\n        $tab.data('form-wizard-tab-validation', function() {\n            return new Promise((resolve, reject) => {\n                let hasErrors = false,\n                    $qty_pc_val = +jQuery('[name=\"qty_pc\"]').val(),\n                    $qty_vip_pc_val = +jQuery('[name=\"qty_vip_pc\"]').val();\n\n                jQuery('.error.qty_error').text('');\n\n                if ($qty_vip_pc_val > $qty_pc_val) {\n                    jQuery('.error.qty_error').text('Количество VIP ПК превышает общее количество ПК');\n                    hasErrors = true;\n                }\n\n                return hasErrors ? reject() : resolve();\n            });\n        });\n    })();\n\n    // url validation\n\n    (() => {\n        let $tab = jQuery('.form_tab_07_contact_information');\n\n        $tab.data('form-wizard-tab-validation', function() {\n            return new Promise((resolve, reject) => {\n                let hasErrors = false;\n\n                if (Layout.isAdmin()) {\n                    return resolve();\n                }\n\n                $tab.find('.form-group .error').text('');\n\n                $tab.find('input[data-type=\"url\"]').each(function() {\n                    let $input = jQuery(this),\n                        value = $input.val();\n                    if (value && !/^(https?:\\/\\/)?([-_a-z0-9а-яё]+\\.)+[-_a-z0-9а-яё]/mugi.test(value)) {\n\n                        $input.closest('.form-group').find('.error').text('Необходимо ввести валидный url');\n                        hasErrors = true;\n                    }\n                });\n\n                return hasErrors ? reject() : resolve();\n            });\n        });\n    })();\n\n    // price list validation\n\n    $club_price_file_input.on('change', function(e) {\n        if (this.files.length === 0) {\n            $club_price_hidden_input.val('');\n            $club_price_file_text.text('Загрузить файл');\n            jQuery('button[data-role-remove-price-list-event]').remove();\n            return;\n        }\n\n        upload_file(this.files[0], 'price_list').then(data => {\n            $club_price_hidden_input.val(data);\n            $club_price_file_text.text('Файл загружен');\n            jQuery('.add_file_wrapper').append('<button type=\"button\" data-role-remove-price-list-event></button>');\n        });\n    });\n\n    jQuery('.add_file_wrapper').on('click', '[data-role-remove-price-list-event]', function(e) {\n        $club_price_file_input.val('');\n        $club_price_file_input.trigger('change');\n    });\n\n    (() => {\n        let $tab = jQuery('.form_tab_06_price');\n\n        $tab.on('open', function() {\n            if ($club_price_hidden_input.val() !== '') {\n                $club_price_file_text.text('Файл загружен');\n                jQuery('.add_file_wrapper').append('<button type=\"button\" data-role-remove-price-list-event></button>');\n            }\n        });\n    })();\n\n    //upload photo gallery\n    (() => {\n        let $tab = jQuery('.form_tab_08_club_formalization'),\n            $photo_error = $tab.find('.add_photo_error'),\n            $progressbar = $tab.find('.upload-progress'),\n            files = $club_photo_hidden_input.val().split(',').filter(x => !!x),\n            main_file = $main_preview_photo_hidden_input.val(),\n            is_uploading = false;\n\n        $club_photo_file_input.on('change', function() {\n            let promises = [],\n                sizes = new Map();\n\n            $photo_error.text('');\n            $progressbar.css({width: 0});\n\n            is_uploading = true;\n            $tab.addClass('uploading');\n\n            if ((files.length + this.files.length) > max_image_count) {\n                $photo_error.text(`Возможно загрузить только ${max_image_count} изображений`);\n\n                return;\n            }\n\n            // File validation\n            for (let file of this.files) {\n                if (['image/jpeg', 'image/png'].includes(file.type) === false) {\n                    $photo_error.text(`Файл \"${file.name}\" имеет недопустимый формат`);\n\n                    return;\n                }\n\n                if (file.size > 5 * 1024 * 1024) {\n                    $photo_error.text(`Файл \"${file.name}\" превышает допустимый размер`);\n\n                    return;\n                }\n            }\n\n            // File upload\n            for (let file of this.files) {\n                promises.push(upload_file(\n                    file,\n                    'image',\n                    (uploaded, total) => sizes.set(file, {uploaded, total})\n                ));\n            }\n\n            setTimeout(() => $club_photo_file_input.attr('type', 'hidden'), 0);\n            setTimeout(() => $club_photo_file_input.attr('type', 'file'), 50);\n\n            let renderProgressBarInterval = setInterval(() => {\n                let uploadedPercents = getTotalUploadedPercent() * 100;\n\n                $progressbar.css({width: `${uploadedPercents}%`});\n            }, 50);\n\n            Promise.all(promises)\n                .then((results) => {\n                    for (let img_url of results) {\n                        addFile(img_url);\n                    }\n                })\n                .catch(error => {\n                    $photo_error.text(error);\n                })\n                .finally(() => {\n                    is_uploading = false;\n                    $tab.removeClass('uploading');\n\n                    clearInterval(renderProgressBarInterval);\n                });\n\n            function getTotalUploadedPercent() {\n                let uploadedAll = 0,\n                    totalAll = 0;\n\n                for (let {uploaded, total} of sizes.values()) {\n                    uploadedAll += uploaded;\n                    totalAll += total;\n                }\n\n                return uploadedAll / totalAll;\n            }\n        });\n\n        $form.on('click', '.add_photo_item .remove_photo', function(e) {\n            e.preventDefault();\n\n            let $this = jQuery(this),\n                $item = $this.closest('.add_photo_item'),\n                $img = $item.find('img'),\n                path = $img.attr('src');\n\n            removeFile(path);\n        });\n\n        $form.on('click', '.add_photo_item img', function(e) {\n            e.preventDefault();\n\n            let $img = jQuery(this),\n                path = $img.attr('src');\n\n            selectMainFile(path);\n            renderFiles();\n        });\n\n        renderFiles();\n\n        function addFile(path) {\n            files.push(path);\n\n            if (!main_file) {\n                selectMainFile(path);\n            }\n\n            renderFiles();\n        }\n\n        function removeFile(path) {\n            files.splice(files.indexOf(path), 1);\n\n            if (path === main_file) {\n                selectMainFile(files.length > 0 ? files[0] : null);\n            }\n\n            renderFiles();\n        }\n\n        function renderFiles() {\n            $photo_error.text('');\n            $club_photo_hidden_input.val(files.join(','));\n            $main_preview_photo_hidden_input.val(main_file || '').trigger('change');\n            if (main_file) {\n                $add_photo_preview.html(`<img src=\"${main_file}\"/>`);\n            } else {\n                $add_photo_preview.empty();\n            }\n\n            $add_photo_list.empty();\n\n            files.forEach((path) => {\n                $add_photo_list.append(`\n<div class=\"add_photo_item\">\n    <img src=\"${path}\"/>\n    <a href=\"#\" class=\"remove_photo\"></a>\n</div>\n`);\n            });\n        }\n\n        function selectMainFile(path) {\n            main_file = path;\n        }\n\n        $tab.data('form-wizard-tab-validation', function() {\n            return new Promise((resolve, reject) => {\n                let hasErrors = false;\n\n                $photo_error.text('');\n\n                if (is_uploading) {\n                    $photo_error.text('Необходимо дождаться загрузки фотографий');\n\n                    return reject();\n                }\n\n                if (Layout.isAdmin()) {\n                    return resolve();\n                }\n\n                if (!main_file) {\n                    $photo_error.text('Необходимо загрузить хотя бы одну фотографию');\n                    hasErrors = true;\n                }\n\n                return hasErrors ? reject() : resolve();\n            });\n        });\n    })();\n\n    function upload_file(file, type, onprogress) {\n        let url = type === 'price_list' ? $form.attr('list-action') : $form.attr('image-action');\n        return Layout.fileUpload(file, url, onprogress);\n    }\n\n    // schedule validation\n    (() => {\n        let $tab = jQuery('.form_tab_04_schedule'),\n            $input_week_schedule = jQuery('input[data-week-schedule]'),\n            $input_day_schedule = jQuery('input[data-day-schedule]');\n\n        $tab.data('form-wizard-tab-validation', function() {\n            return new Promise((resolve, reject) => {\n                let hasErrors = false;\n\n                if (Layout.isAdmin()) {\n                    return resolve();\n                }\n\n                jQuery('.work_time_wrapper_error').text('');\n\n                if ($input_day_schedule.filter(':checked').length === 0 && $input_week_schedule.is(':checked')) {\n                    jQuery('.work_time_wrapper_error').text('Необходимо заполнить хотя бы один день');\n                    hasErrors = true;\n                }\n\n                return hasErrors ? reject() : resolve();\n            });\n        });\n    })();\n\n    // payment method validation\n    (() => {\n        let $tab = jQuery('.form_tab_06_price'),\n            $input_payment = jQuery('input[data-payment-method]');\n\n        $tab.on('change', 'input', function(e) {\n            if ($input_payment.filter(':checked').length === 0) {\n                jQuery('.next_btn, .prev_btn').prop('disabled', true);\n                jQuery('.payment_method_wrapper .error').text('Необходимо выбрать хотя бы один способ оплаты');\n            } else {\n                jQuery('.next_btn, .prev_btn').prop('disabled', false);\n                jQuery('.payment_method_wrapper .error').text('');\n            }\n        });\n    })();\n\n    /**\n     * Toggle blocks by checkbox and radio buttons\n     */\n    (() => {\n        jQuery('input[type=\"checkbox\"][data-toggle-block]')\n            .on('change init', function(e) {\n                let $this = jQuery(this),\n                    selector = $this.data('toggle-block'),\n                    state = this.checked;\n\n                blockToggle($this, selector, state);\n            })\n            .trigger('init');\n\n        jQuery('input[type=\"radio\"][data-activate-block]')\n            .on('change init', function(e) {\n                let $this = jQuery(this),\n                    selector = $this.data('activate-block');\n\n                blockToggle($this, selector, true);\n            })\n            .filter(':checked')\n            .trigger('init');\n\n        jQuery('input[type=\"radio\"][data-disable-block]')\n            .on('change init', function(e) {\n                let $this = jQuery(this),\n                    selector = $this.data('disable-block');\n\n                blockToggle($this, selector, false);\n            })\n            .filter(':checked')\n            .trigger('init');\n\n        /**\n         * @param {jQuery} $input\n         * @param {String} selector\n         * @param {Boolean} state\n         */\n        function blockToggle($input, selector, state) {\n            jQuery(selector).each(function() {\n                let $block = jQuery(this);\n\n                $block.toggleClass('block_active', state);\n                $block.toggleClass('block_disabled', !state);\n\n\n                $block.find('input:not([type=\"radio\"]):not([type=\"checkbox\"]), select, textarea').each(function() {\n                    let $input = jQuery(this);\n\n                    // if (!state) {\n                    //     $input.val('').trigger('change');\n                    // }\n\n                    $input.prop('disabled', $input.is('.block_disabled *'));\n                });\n\n            });\n        }\n    })();\n\n    /**\n     * Configuration tabs\n     */\n    (() => {\n        let $tab = jQuery('.form_tab_05_configuration'),\n            $configuration = jQuery('[data-role=\"pc-configuration\"]'),\n            $navs = $configuration.find('[data-role=\"pc-configuration-nav\"]'),\n            $tabs = $configuration.find('[data-role=\"pc-configuration-tabs\"]'),\n            $tab_tpl = jQuery('#configuration-tab-template'),\n            $create_tab_button = $configuration.find('[data-role=\"pc-configuration-create-tab\"]'),\n            tab_tpl_html = $tab_tpl.html(),\n            tab_count = $tabs.find('[data-role=\"pc-configuration-tab\"]').length,\n            last_tab_index = tab_count - 1,\n            active_tab_index = last_tab_index,\n            $input_common_area_qty_pc = jQuery('[data-common-area-qty-pc]'),\n            $input_vip_area_qty_pc = jQuery('[data-vip-area-qty-pc]');\n\n\n        if ($configuration.length === 0) {\n            return;\n        }\n\n        $tab.on('open', function() {\n            recalc_qty_pc();\n        });\n\n\n        $tab.on('change', '[data-new-area-qty-pc]', function (e) {\n            recalc_qty_pc();\n        });\n\n        let KEY_BACKSPACE = 8,\n            KEY_TAB = 9,\n            KEY_DELETE = 46,\n            KEY_ENTER = 13,\n            CODE_ALLOWED_KEYBOARD_KEYS = [\n                112, /* F1 */  48, /* 0 main keyboard */ 96,  /* 0 side keyboard */\n                113, /* F2 */  49, /* 1 main keyboard */ 97,  /* 1 side keyboard */\n                114, /* F3 */  50, /* 2 main keyboard */ 98,  /* 2 side keyboard */\n                115, /* F4 */  51, /* 3 main keyboard */ 99,  /* 3 side keyboard */\n                116, /* F5 */  52, /* 4 main keyboard */ 100, /* 4 side keyboard */\n                117, /* F6 */  53, /* 5 main keyboard */ 101, /* 5 side keyboard */\n                118, /* F7 */  54, /* 6 main keyboard */ 102, /* 6 side keyboard */\n                119, /* F8 */  55, /* 7 main keyboard */ 103, /* 7 side keyboard */\n                120, /* F9 */  56, /* 8 main keyboard */ 104, /* 8 side keyboard */\n                121, /* F10 */ 57, /* 9 main keyboard */ 105, /* 9 side keyboard */\n                122, /* F11 */\n                123, /* F12 */\n\n                KEY_BACKSPACE,\n                KEY_TAB,\n                KEY_DELETE,\n                KEY_ENTER\n            ];\n\n        $tab.on('keydown', '[data-new-area-qty-pc]', function(e) {\n            let key = e.keyCode || e.which;\n\n            if (CODE_ALLOWED_KEYBOARD_KEYS.indexOf(key) === -1) {\n                e.preventDefault();\n            }\n        });\n\n        function recalc_qty_pc() {\n            let $qty_pc_val = jQuery('[name=\"qty_pc\"]').val(),\n                $qty_vip_pc_val = jQuery('[name=\"qty_vip_pc\"]').val(),\n                $input_new_area = jQuery('[data-new-area-qty-pc]'),\n                $qty_common_val = $qty_pc_val - $qty_vip_pc_val;\n\n            $input_new_area.each(function() {\n                $qty_common_val = $qty_common_val - this.value;\n\n                if($qty_common_val < 1){\n                    jQuery(this)\n                        .closest(jQuery('[data-role=\"pc-configuration-tab\"]'))\n                            .find(jQuery('.main-error'))\n                            .addClass('active')\n                            .text('Проверьте правильность введенных данных, вы превысили общее количество ПК');\n\n                    $qty_common_val = +$qty_common_val + (+this.value);\n                    this.value = '';\n                } else{\n                    jQuery(this)\n                        .closest(jQuery('[data-role=\"pc-configuration-tab\"]'))\n                            .find(jQuery('.main-error'))\n                            .removeClass('active')\n                            .text('Заполните всю информацию об оборудовании в дополнительной зоне или удалите ее');\n                }\n            });\n\n            $input_common_area_qty_pc.val(`${$qty_common_val} ПК`);\n            $input_vip_area_qty_pc.val(`${$qty_vip_pc_val} ПК`);\n        }\n\n        $create_tab_button.on('click', function(e) {\n            e.preventDefault();\n\n            add_tab();\n        });\n\n        $configuration.on('click', '[data-show-tab]', function(e) {\n            e.preventDefault();\n\n            let $this = jQuery(this),\n                tab = $this.data('show-tab');\n\n            show_tab(tab);\n        });\n\n        $configuration.on('click', '[data-remove-tab]', function(e) {\n            e.preventDefault();\n\n            let $this = jQuery(this),\n                tab = $this.data('remove-tab');\n\n            remove_tab(tab);\n        });\n\n        function add_tab() {\n            let tab_index = last_tab_index + 1,\n                tab_html = generate_tab_html(tab_index);\n\n            $tabs.append(tab_html);\n            $navs.append(`\n                <li data-nav-tab=\"${tab_index}\">\n                    <a href=\"#\" data-show-tab=\"${tab_index}\"></a>\n                    <button type=\"button\" data-remove-tab=\"${tab_index}\"></button>\n                </li>\n            `);\n\n            Layout.initSelect2();\n\n            show_tab(tab_index);\n\n            last_tab_index = tab_index;\n\n            ++tab_count;\n\n            $create_tab_button.prop('disabled', tab_count >= 5);\n        }\n\n        function remove_tab(index) {\n            $navs.find(`[data-nav-tab=\"${index}\"]`).remove();\n            $tabs.find(`[data-tab=\"${index}\"]`).remove();\n\n            if (active_tab_index === index) {\n                show_tab(0);\n            }\n\n            --tab_count;\n\n            $create_tab_button.prop('disabled', tab_count >= 5);\n        }\n\n        function show_tab(index) {\n            $tabs\n                .find('[data-tab]')\n                .removeClass('active')\n                .filter(`[data-tab=\"${index}\"]`)\n                .addClass('active');\n\n            $navs\n                .find('[data-show-tab]')\n                .removeClass('active')\n                .filter(`[data-show-tab=\"${index}\"]`)\n                .addClass('active');\n\n            active_tab_index = index;\n        }\n\n        function generate_tab_html(index) {\n            return tab_tpl_html.replace(/\\{n\\}/g, `${index}`);\n        }\n\n        $form.on('error-tab', function() {\n            if ($configuration.is(':visible')) {\n                let $tabWithError = $configuration.find('.tab .form-group.has-error').eq(0).closest('.tab');\n\n                show_tab($tabWithError.data('tab'));\n            }\n        });\n    })();\n\n    /**\n     * Add console\n     */\n\n    (() => {\n        let $console_select_tmp_html = jQuery('#console-select-template').html(),\n            add_button = jQuery('[data-role=\"console-add-tab\"]'),\n            parent_list = jQuery('.additional_console_wrapper'),\n            index = parent_list.find('.console_select').length;\n\n        add_button.on('click', function(e) {\n            parent_list.append(generate_tab_html());\n\n            Layout.initSelect2();\n\n            ++index;\n\n            add_button.prop('disabled', index >= 3);\n        });\n\n        parent_list.on('click', '[data-role-remove-console]', function(e) {\n            e.preventDefault();\n            jQuery(this).closest('.form-group').remove();\n            --index;\n            add_button.prop('disabled', index >= 3);\n        });\n\n        function generate_tab_html() {\n            let random = Math.random() * 1000,\n                id = random.toFixed(0);\n            return $console_select_tmp_html.replace(/\\{n\\}/g, `${id}`);\n        }\n    })();\n\n    /**\n     * Add marketing event\n     */\n    (() => {\n        let add_button = jQuery('[data-role=\"marketing-event-add-tab\"]'),\n            parent_list = jQuery('.marketing_event .marketing_event_list'),\n            index = parent_list.find('.form-group').length;\n\n\n        add_button.on('click', function(e) {\n            parent_list.append(`\n             <div class=\"form-group\" >\n                <label for=\"marketing-event-input_${index}\">Акция №</label>\n                <div class=\"input_wrapper\" >\n                    <input id=\"marketing-event-input_${index}\" name=\"marketing_event_descr[${index}]\" type=\"text\" placeholder=\"Описание акции\" required>\n                    <div class=\"error\"></div>\n                </div>\n                <button type=\"button\" data-role-remove-marketing-event></button>\n            </div>\n            `);\n            ++index;\n            add_button.prop('disabled', index >= 5);\n        });\n\n        parent_list.on('click', '[data-role-remove-marketing-event]', function(e) {\n            e.preventDefault();\n            jQuery(this).closest('.form-group').remove();\n            --index;\n            add_button.prop('disabled', index >= 5);\n        });\n    })();\n\n    /**\n     * Preview tab\n     */\n\n    (() => {\n        let $tab = jQuery('.form_tab_09_club_preview');\n\n        $tab.on('open', function() {\n            let clubName = jQuery('#club-name-input').val(),\n                clubAddress = jQuery('#club-address-input').val(),\n                clubPrice = jQuery('#min-price-input').val(),\n                clubSubway = $club_select_metro_input.find('option:selected').text(),\n                clubSubwayLineColor = $club_select_metro_input.find('option:selected').data('line-color') || 'black',\n                totalPc = jQuery('#qty_pc-input').val(),\n                consoleQty = jQuery('#qty_console-input').val(),\n                vr = jQuery('#qty_vr-input').val(),\n                autosim = jQuery('#qty_simulator-input').val(),\n                marketingInput = jQuery('.marketing_event_wrapper .checkbox_wrapper input[type=\"checkbox\"]'),\n                main_file = $main_preview_photo_hidden_input.val() || '/img/default-club-preview-image.svg';\n\n            $tab.find('.sc_info .club_name span').text(clubName);\n            $tab.find('.club_address_wrapper .club_address').text(clubAddress);\n            $tab.find('.club_subway_wrapper .subway_station').text(clubSubway);\n            $tab.find('.club_subway_wrapper .subway_img_wrapper')[0].style.setProperty('--subway-color', clubSubwayLineColor);\n            $tab.find('.club_price_wrapper .club_price span').text(clubPrice);\n\n            $tab.find('.cf_item .cf_qty.total_pc').text(totalPc);\n\n            if (consoleQty === '') {\n                jQuery('.cf_qty.console').closest('.cf_item').hide();\n            } else {\n                jQuery('.cf_qty.console').closest('.cf_item').show();\n                $tab.find('.cf_item .cf_qty.console').text(consoleQty);\n            }\n\n            if (vr === '') {\n                jQuery('.cf_qty.vr').closest('.cf_item').hide();\n            } else {\n                jQuery('.cf_qty.vr').closest('.cf_item').show();\n                $tab.find('.cf_item .cf_qty.vr').text(vr);\n            }\n\n            if (autosim === '') {\n                jQuery('.cf_qty.autosim').closest('.cf_item').hide();\n            } else {\n                jQuery('.cf_qty.autosim').closest('.cf_item').show();\n                $tab.find('.cf_item .cf_qty.autosim').text(autosim);\n            }\n\n            $tab.find('.sc_img_wrapper .sc_img img').attr('src', main_file);\n\n            if (jQuery('input[data-food-service]').filter(':checked').length > 0) {\n                $tab.find('.club_services .food_services').show();\n            } else {\n                $tab.find('.club_services .food_services').hide();\n            }\n\n            $tab.find('.club_services .drink__services').toggle(jQuery('input[data-alcohol-service]').prop('checked'));\n            $tab.find('.club_services .hookah_services').toggle(jQuery('input[data-hookah-service]').prop('checked'));\n            $tab.find('.club_services .vip_services').toggle(jQuery('input[data-vip-service]').prop('checked'));\n            $tab.find('.club_promotion').toggle(marketingInput.prop('checked'));\n            if (!jQuery('input[data-alcohol-service]').prop('checked')\n                && !jQuery('input[data-hookah-service]').prop('checked')\n                && !jQuery('input[data-vip-service]').prop('checked')\n                && !jQuery('input[data-food-service]').filter(':checked').length > 0) {\n                $tab.find('.club_services').hide();\n            } else {\n                $tab.find('.club_services').show();\n            }\n            jQuery('.club_subway_wrapper').toggle($club_select_metro_input.val() !== '');\n        });\n    })();\n});\n\n","jQuery(function() {\n    let $firstForm = jQuery('#add-club-start-form'),\n        $secondForm = jQuery('#add-club-code-confirm-form'),\n        $step_back = $secondForm.find('.step_back'),\n        $lastForm = jQuery('#personal_info_register'),\n        codeFormInterval,\n        regForm = document.querySelector('#main-registration-form'),\n        phoneNumber = null;\n\n    if ($firstForm.length === 0) {\n        return;\n    }\n\n    jQuery('[data-btn-club-owner-reg]').on('click', function(e) {\n        if(Layout.isGuest()){\n            jQuery(this).closest('.main_reg_wrapper')\n                .find('.form_reg_wrapper')\n                .show()\n                .find('.page_title')\n                .text('Регистрация представителя компьютерного клуба');\n            $lastForm.find('input[name=\"user_type\"]').val('owner');\n            $lastForm.find('.form-group.owner').show().find('select').prop('disabled', false);\n            $lastForm.find('.form-group.player').hide().find('select').prop('disabled', true);\n        }else{\n            Layout.showInfoModal('Вы уже авторизованы.');\n        }\n\n        if(regForm){\n            regForm.scrollIntoView({behavior: 'smooth'});\n        }\n    });\n\n    jQuery('[data-btn-club-gamer-reg]').on('click', function(e) {\n        if(Layout.isGuest()){\n            jQuery(this).closest('.main_reg_wrapper').find('.form_reg_wrapper').show().find('.page_title').text('Регистрация ланнера');\n            $lastForm.find('input[name=\"user_type\"]').val('player');\n            $lastForm.find('.form-group.owner').hide().find('select').prop('disabled', true);\n            $lastForm.find('.form-group.player').show().find('select').prop('disabled', false);\n            $lastForm.find('.club_list_link').hide();\n        } else{\n            Layout.showInfoModal('Вы уже авторизованы.');\n        }\n\n        if(regForm){\n            regForm.scrollIntoView({behavior: 'smooth'});\n        }\n    });\n\n    $secondForm.find('input[name=\"code\"]').codeInput();\n\n    $firstForm.on('submit', function(e) {\n        e.preventDefault();\n\n        if(!Layout.isGuest()){\n            Layout.showInfoModal('Вы уже авторизованы.');\n            return;\n        }\n\n        phoneNumber = $firstForm.find('input[name=\"phone\"]').val();\n\n        jQuery.ajax({\n            type: 'POST',\n            url: $(this).attr('action'),\n            data: {\n                'phone': $('#add-club-start-input').inputmask('unmaskedvalue'),\n                '_token': $('#add-club-start-form [name=\"_token\"]').val()\n            },\n            success: function(data) {\n                if (data.status == 'false') {\n                    $firstForm.find('.forma .form-group').addClass('error');\n                    $firstForm.find('.forma .form-group .error').text(data.msg);\n                } else {\n                    $firstForm.find('.forma .form-group.error').removeClass('error');\n                    $firstForm.find('.forma .form-group .error').text('');\n                    $firstForm.hide();\n                    $secondForm.find('.user_phone').text(phoneNumber);\n                    $secondForm.show();\n                    clearInterval(codeFormInterval);\n                    startCountDown();\n                }\n\n            },\n            error: function(errors) {\n                $firstForm.find('.forma .form-group').addClass('error');\n                $.each(errors.responseJSON.errors, function(key, item) {\n                    $firstForm.find('.forma .form-group [name=\"' + key + '\"]').closest('.form-group').find('.error').text(item);\n                });\n            }\n        });\n    });\n\n    $secondForm.on('submit', function(e) {\n        e.preventDefault();\n        jQuery('.code_wrapper .error').text('');\n        var confirm_code = '', phone = $('#add-club-start-input').inputmask('unmaskedvalue');\n        $secondForm.find('.code_input_wrapper input').each(function() {\n            confirm_code = confirm_code + $(this).val();\n        });\n        if (confirm_code.length != 4) {\n            return false;\n        }\n\n        jQuery.ajax({\n            type: 'POST',\n            url: $(this).attr('action'),\n            data: {\n                'phone': phone,\n                'confirm_code': confirm_code,\n                '_token': $secondForm.find('[name=\"_token\"]').val()\n            },\n            success: function(json) {\n                if (json.error) {\n                    // ошибка\n                    jQuery('.code_wrapper .error').text(json.error);\n\n                } else {\n                    $lastForm.find('#user-phone-input').val($('#add-club-start-input').inputmask('unmaskedvalue'));\n                    $lastForm.find('[name=\"phone\"]').val($('#add-club-start-input').inputmask('unmaskedvalue'));\n                    $lastForm.find('[name=\"conf_code\"]').val(confirm_code);\n                    $('.add_club_page_start_wrapper').hide();\n                    $lastForm.show();\n                    // успех\n                    // location.href = '/';\n                }\n            }\n        });\n    });\n    $lastForm.find('form').on('submit', function(e) {\n        e.preventDefault();\n        $lastForm.find('.forma .form-group').removeClass('error');\n        $lastForm.find('.forma .error').remove();\n        jQuery.ajax({\n            type: 'POST',\n            url: $(this).attr('action'),\n            data: $lastForm.find('form').serialize(),\n            success: function(json) {\n                if (typeof json.errors !== 'undefined') {\n                    // ошибка\n                    jQuery('.code_wrapper .error').text(json.error);\n\n                } else {\n                    // успех\n                    location.href = '/personal/clubs?action=add_club';\n                }\n            },\n            error: function(errors) {\n                $.each(errors.responseJSON.errors, function(key, item) {\n                    $lastForm.find('.forma .form-group [name=\"' + key + '\"]').closest('.form-group').addClass('error').append('<div class=\"error\">' + item + '</div>');\n                });\n\n            }\n        });\n    });\n\n    $step_back.on('click', function(e) {\n        $secondForm.trigger('reset');\n        $secondForm.hide();\n        $firstForm.show();\n    });\n\n    jQuery('#reSendCode').on('click', function(e) {\n        $firstForm.trigger('submit');\n    });\n\n    function startCountDown() {\n        clearInterval(codeFormInterval);\n\n        let $countdown = jQuery('#countdown'),\n            $reSendCode = jQuery('#reSendCode'),\n            time = 180;\n\n        $countdown.text(getTimeText(time));\n\n        $reSendCode.addClass('disabled');\n\n        codeFormInterval = setInterval(function() {\n            time--;\n            $countdown.text(getTimeText(time));\n            if (time === 0) {\n                $reSendCode.removeClass('disabled');\n                $countdown.text(' ');\n\n                clearInterval(codeFormInterval);\n            }\n        }, 1000);\n    }\n\n    function getTimeText(time) {\n        var minutes = '' + Math.floor(time / 60),\n            seconds = '' + time % 60;\n\n        seconds = seconds.length === 1 ? '0' + seconds : seconds;\n\n        return minutes + ':' + seconds;\n    }\n});\n","jQuery(function() {\n    let $form = jQuery('#cities-list-form'),\n        $letterCheckboxes = $form.find('[name=\"city_letter\"]'),\n        $uncheckFilter = jQuery('.cities_list_checkbox_wrapper .title'),\n        filteredLetters = [],\n        filterSearchValue = '',\n        cityElements = [],\n        cityLinksByName = {},\n        cityLinksByFirstLetter = {};\n\n    if ($form.length === 0) {\n        return;\n    }\n\n    document.querySelectorAll('.cities_list a').forEach(function(element) {\n        let cityName = convertSearchText(element.textContent),\n            firstLetter = cityName.substr(0, 1);\n\n        cityLinksByName[cityName] = cityLinksByName[cityName] || [];\n        cityLinksByFirstLetter[firstLetter] = cityLinksByFirstLetter[firstLetter] || [];\n\n        cityElements.push(element);\n        cityLinksByName[cityName].push(element);\n        cityLinksByFirstLetter[firstLetter].push(element);\n    });\n\n    $form.on('change', '[name=\"city_letter\"]', function(e) {\n        filteredLetters = $letterCheckboxes\n            .filter(':checked')\n            .map(function() {\n                return this.value.toLowerCase();\n            })\n            .toArray();\n\n        renderFilteredItems();\n    });\n\n    $form.on('input change', '[name=\"search\"]', function(e) {\n        filterSearchValue = convertSearchText(this.value);\n\n        renderFilteredItems();\n    });\n\n    $uncheckFilter.on('click', function(e) {\n        for (let i=0 ;i<$letterCheckboxes.length; i++) {\n            $letterCheckboxes[i].checked=false;\n        }\n\n        filteredLetters = $letterCheckboxes\n            .filter(':checked')\n            .map(function() {\n                return this.value.toLowerCase();\n            })\n            .toArray();\n\n        renderFilteredItems();\n    });\n\n    function renderFilteredItems() {\n        cityElements.forEach(e => e.style.display = '');\n\n        if (filteredLetters.length > 0) {\n            for (let firstLetter in cityLinksByFirstLetter) {\n                if (filteredLetters.includes(firstLetter) === false) {\n                    cityLinksByFirstLetter[firstLetter].forEach(e => e.style.display = 'none');\n                }\n            }\n        }\n\n        if (filterSearchValue.length > 0) {\n            for (let cityName in cityLinksByName) {\n                if (cityName.indexOf(filterSearchValue) === -1) {\n                    cityLinksByName[cityName].forEach(e => e.style.display = 'none');\n                }\n            }\n        }\n    }\n\n    function convertSearchText(text) {\n        return `${text}`.trim().toLowerCase();\n    }\n});\n","/**\n * show all club photo modal\n */\njQuery(function() {\n    let $modal = jQuery('[data-remodal-id=\"club_photo_modal\"]'),\n        $slick = jQuery('.club_photo_modal_wrapper'),\n        $counter = jQuery('#show_club_photo_counter_slide');\n\n    if ($modal.length === 0) {\n        return;\n    }\n\n    let total_count = $slick.find('.slide_item').length;\n    setCounterText(0);\n\n    $modal.on('opened', function() {\n        $slick.slick({\n            infinite: true,\n            slidesToShow: 1,\n            slidesToScroll: 1,\n            prevArrow: '<button type=\"button\" class=\"slick-prev slick-arrow\"><img src=\"/img/left.svg\" alt=\"arrow\"></button>',\n            nextArrow: '<button type=\"button\" class=\"slick-next slick-arrow\"><img src=\"/img/right.svg\" alt=\"arrow\"></button>'\n        });\n\n        $slick.on('beforeChange', function(e, slick, currentSlide, nextSlide) {\n            setCounterText(nextSlide);\n        });\n    });\n\n    $modal.on('closed', function() {\n        jQuery('.club_photo_modal_wrapper').slick('unslick');\n    });\n\n    function setCounterText(slide) {\n        $counter.text(`${slide + 1} / ${total_count}`);\n    }\n});","jQuery(function() {\n\n    jQuery('.sc_item.liked_list').closest('.club_list_item').append(\n        `<form action=\"\" method=\"post\">\n            <button type=\"submit\" data-role-remove-liked-club></button>\n         </form>`\n    );\n\n    if (jQuery('[data-like-club-form]').hasClass('liked')) {\n        jQuery('[data-like-club-form]').hide();\n        jQuery('[data-unlike-club-form]').show();\n    }\n\n    jQuery('[data-like-club]').on('click', function(e) {\n        if(!Layout.isPlayer()){\n            Layout.showInfoModal('Если не хотите потерять понравившийся клуб, <a href=\"/registration\">зарегистрируйтесь</a> или <a href=\"/login\">авторизуйтесь</a> на сайте как ланнер.');\n        } else{\n            let $form = jQuery(this).closest('form'),\n                club_id = jQuery('meta[name=\"club_id\"]').attr('content');\n\n            e.preventDefault();\n\n            jQuery.ajax({\n                type: 'POST',\n                data: $form.serialize(),\n                url: `/like-club/?club_id=${club_id}`,\n                success: function() {\n                    jQuery('[data-like-club-form]').hide();\n                    jQuery('[data-unlike-club-form]').show();\n                }\n            });\n        }\n    });\n\n    jQuery('[data-unlike-club]').on('click', function(e) {\n        let $form = jQuery(this).closest('form'),\n            club_id = jQuery('meta[name=\"club_id\"]').attr('content');\n\n        e.preventDefault();\n\n        jQuery.ajax({\n            type: 'POST',\n            data: $form.serialize(),\n            url: `/unlike-club/?club_id=${club_id}`,\n            success: function() {\n                jQuery('[data-like-club-form]').show();\n                jQuery('[data-unlike-club-form]').hide();\n            }\n        });\n    });\n\n    jQuery('[data-role-remove-liked-club]').on('click', function(e) {\n        let $form = jQuery(this).closest('form'),\n            club_id = jQuery(this).closest('.club_list_item').find('.sc_item.liked_list').data('id');\n\n        e.preventDefault();\n\n        jQuery.ajax({\n            type: 'POST',\n            data: $form.serialize(),\n            url: `/unlike-club/?club_id=${club_id}`,\n            success: function() {\n                location.href = '/personal/liked';\n            }\n        });\n    });\n});\n","jQuery(function() {\n    let $form = jQuery('#user-profile-form'),\n        codeFormInterval,\n        $inputPhone = $form.find('input[name=\"phone\"]'),\n        $codeWrapper = $form.find('.confirm_mobile_wrapper'),\n        $codeDescription = $codeWrapper.find('.confirm_mobile_descr'),\n        newPhoneNumber = null,\n        oldPhoneNumber = $form.find('#oldPhone').val();\n\n    if ($form.length === 0) {\n        return;\n    }\n\n    $form.find('input[name=\"code\"]').codeInput();\n\n    $form.on('submit', function(e) {\n        e.preventDefault();\n        $form.find('.forma .form-group').removeClass('error');\n        $form.find('.forma .error').remove();\n        newPhoneNumber = $inputPhone.val();\n\n        if ($inputPhone.inputmask('unmaskedvalue') !== oldPhoneNumber) {\n            $form.find('.code_input_wrapper input').val('');\n            jQuery.ajax({\n                type: 'POST',\n                url: $(this).attr('phone-action'),\n                data: {\n                    phone: $inputPhone.inputmask('unmaskedvalue'),\n                    '_token': $form.find('[name=\"_token\"]').val()\n                },\n                success: function(data) {\n                    if (data.status == 'false') {\n                        jQuery('#user-profile-form').find('#user-phone-input').closest('.form-group').addClass('error').append('<div class=\"error\">' + data.msg + '</div>');\n                    } else {\n                        jQuery('.user_profile_submit').addClass('disabled');\n                        $inputPhone.hide();\n                        $codeDescription.text(`Код отправлен на номер ${newPhoneNumber}`).removeClass('error');\n                        $codeWrapper.show();\n                        clearInterval(codeFormInterval);\n                        startCountDown();\n                    }\n\n                }\n            });\n        } else {\n            submitForm();\n        }\n    });\n\n    jQuery('#reSendCodeProfile').on('click', function(e) {\n        $form.trigger('submit');\n    });\n\n    $form.on('change', 'input[name=\"code\"]', function(e) {\n        let $this = jQuery(this);\n\n        jQuery.ajax({\n            type: 'POST',\n            url: $form.attr('verify-action'),\n            data: {\n                'confirm_code': $this.val(),\n                'phone': $inputPhone.inputmask('unmaskedvalue'),\n                '_token': $form.find('[name=\"_token\"]').val()\n            },\n            success: function(json) {\n                if (typeof json.error !== 'undefined') {\n                    // ошибка\n                    $codeDescription.text(json.error).addClass('error');\n                } else {\n                    oldPhoneNumber = $inputPhone.inputmask('unmaskedvalue');\n                    // успех\n                    submitForm();\n                    $inputPhone.show();\n                    $codeWrapper.hide();\n                    clearInterval(codeFormInterval);\n                    jQuery('.user_profile_submit').removeClass('disabled');\n                }\n            }\n        });\n\n    });\n\n    function submitForm() {\n        $form.find('.user_profile_submit').addClass('disabled');\n        jQuery.ajax({\n            type: 'POST',\n            url: $form.attr('action'),\n            data: $form.serialize(),\n            success: function(data) {\n                if (data.status == 'false') {\n\n                } else {\n                    jQuery('.user_profile_submit').removeClass('disabled');\n                    jQuery('[data-remodal-id=\"success_modal\"]').remodal().open();\n                }\n\n            },\n            error: function(errors) {\n                jQuery('.user_profile_submit').removeClass('disabled');\n                $.each(errors.responseJSON.errors, function(key, item) {\n                    $form.find('.form-group [name=\"' + key + '\"]').closest('.form-group').addClass('error').append('<div class=\"error\">' + item + '</div>');\n                });\n            }\n        });\n    }\n\n    function startCountDown() {\n        let $countdown = jQuery('#countdown'),\n            $reSendCode = jQuery('#reSendCodeProfile'),\n            time = 180;\n\n        $countdown.text(getTimeText(time));\n\n        $reSendCode.addClass('disabled');\n\n        codeFormInterval = setInterval(function() {\n            time--;\n            $countdown.text(getTimeText(time));\n            if (time === 0) {\n                $reSendCode.removeClass('disabled');\n                $countdown.text(' ');\n\n                clearInterval(codeFormInterval);\n            }\n        }, 1000);\n    }\n\n    function getTimeText(time) {\n        var minutes = '' + Math.floor(time / 60),\n            seconds = '' + time % 60;\n\n        seconds = seconds.length === 1 ? '0' + seconds : seconds;\n\n        return minutes + ':' + seconds;\n    }\n});\n","jQuery(function() {\n    let $map = document.getElementById('sc_by_map'),\n        clubGeoList = window.clubGeoList || [],\n        clubPlacemarks = {},\n        activeClubId = null,\n        zoomTop = 400;\n\n    if (window.matchMedia('(max-width: 760px)').matches) {\n        zoomTop = 100;\n    }\n\n\n    if (!$map) {\n        return;\n    }\n\n    if (!window.ymaps) {\n        return;\n    }\n\n    ymaps.ready(() => {\n        let scrollParent = jQuery('[data-search-club-by-map]'),\n            wrapper = document.querySelector('[data-search-club-by-map]'),\n            map = new ymaps.Map($map, {\n                center: fixCoordinatesCenter([window.CITY_LAT, window.CITY_LON], window.MAP_ZOOM),\n                zoom: window.MAP_ZOOM,\n                behaviors: ['drag', 'dblClickZoom'],\n                controls: []\n            }),\n            /**\n             * Создадим кластеризатор, вызвав функцию-конструктор.\n             * Список всех опций доступен в документации.\n             * @see https://api.yandex.ru/maps/doc/jsapi/2.1/ref/reference/Clusterer.xml#constructor-summary\n             */\n            clusterer = new ymaps.Clusterer({\n                clusterIcons: [\n                    {\n                        href: '/img/icon-red-border.svg',\n                        size: [40, 40],\n                        offset: [-20, -20],\n                        color: 'red'\n                    },\n                    {\n                        href: '/img/icon-red-border.svg',\n                        size: [60, 60],\n                        offset: [-30, -30], textColor: 'red'\n                    }],\n\n                /**\n                 * Через кластеризатор можно указать только стили кластеров,\n                 * стили для меток нужно назначать каждой метке отдельно.\n                 * @see https://api.yandex.ru/maps/doc/jsapi/2.1/ref/reference/option.presetStorage.xml\n                 */\n                // preset: 'islands#redClusterIcons',\n                /**\n                 * Ставим true, если хотим кластеризовать только точки с одинаковыми координатами.\n                 */\n                groupByCoordinates: false,\n                /**\n                 * Опции кластеров указываем в кластеризаторе с префиксом \"cluster\".\n                 * @see https://api.yandex.ru/maps/doc/jsapi/2.1/ref/reference/ClusterPlacemark.xml\n                 */\n                clusterDisableClickZoom: false,\n                clusterHideIconOnBalloonOpen: false,\n                geoObjectHideIconOnBalloonOpen: false,\n                hasBalloon: false,\n                minClusterSize: 4,\n                textColor: 'red'\n            });\n\n        let zoomControl = new ymaps.control.ZoomControl({\n            options: {\n                position: {left: 'auto', right: 10, top: zoomTop}\n            }\n        });\n\n        map.controls.add(zoomControl);\n\n        map.events.add('boundschange', function(e) {\n            renderMapPlacemarks();\n        });\n\n        map.geoObjects.add(clusterer);\n\n        jQuery(document).on('mouseover', '[data-search-club-by-map] [data-role-club][data-id]', function(e) {\n            let $this = jQuery(this);\n            jQuery('[data-role-club]').removeClass('active');\n            activateClubById($this.data('id'), Math.min(14, map.getZoom()));\n            $this.addClass('active');\n        });\n\n        function activateClubById(id, zoom) {\n            zoom = zoom || map.getZoom();\n\n            if (activeClubId === id) {\n                return;\n            }\n\n            if (!clubPlacemarks[id]) {\n                return;\n            }\n\n            if (clubPlacemarks[activeClubId]) {\n                clubPlacemarks[activeClubId].options.set('iconImageHref', '/img/ballon.svg');\n                clubPlacemarks[activeClubId].options.set('zIndex', 1);\n            }\n\n            clubPlacemarks[id].options.set('iconImageHref', '/img/active_ballon.svg');\n            clubPlacemarks[id].options.set('zIndex', 2);\n\n            if (!window.IS_GLOBAL_MAP) {\n                map.setCenter(\n                    fixCoordinatesCenter(clubPlacemarks[id].geometry.getCoordinates(), zoom),\n                    zoom,\n                    {\n                        duration: 800,\n                        timingFunction: 'ease'\n                    }\n                );\n            }\n\n            activeClubId = id;\n        }\n\n        function fixCoordinatesCenter(coords, zoom) {\n            let [x, y] = coords;\n\n            if (zoom > 12) {\n                return coords;\n            }\n\n            if (window.matchMedia('(max-width: 760px)').matches) {\n                x -= 0.025 * 8 / zoom;\n            } else if (window.matchMedia('(max-width: 1500px)').matches) {\n                x -= 0.05 * 8 / zoom;\n            } else {\n                y -= 0.15 * 8 / zoom;\n            }\n\n            return [x, y];\n        }\n\n        function scrollToElement(wrapper, list, element) {\n            let style = getComputedStyle(wrapper),\n                styleElem = getComputedStyle(element[0]),\n                listOffsetTop = list.offset().top,\n                elementOffsetTop = element.offset().top,\n                listScrollTop = list[0].scrollTop,\n                wrapperHeight = parseFloat(style.height ? style.height.replace('px', '') : '0'),\n                elemHeight = parseFloat(styleElem.height ? styleElem.height.replace('px', '') : '0'),\n\n                listOffsetLeft = list.offset().left,\n                elementOffsetLeft = element.offset().left,\n                listScrollLeft = list[0].scrollLeft,\n                wrapperPaddingLeft = parseFloat(style.paddingTop ? style.paddingTop.replace('px', '') : '0');\n\n            list[0].scrollTop = elementOffsetTop - listOffsetTop + listScrollTop - wrapperHeight / 2 + elemHeight / 2;\n            list[0].scrollLeft = elementOffsetLeft - listOffsetLeft + listScrollLeft - wrapperPaddingLeft;\n        }\n\n        function renderMapPlacemarks() {\n            let bounds = map.getBounds(),\n                latMin = bounds[0][0],\n                latMax = bounds[1][0],\n                lonMin = bounds[0][1],\n                lonMax = bounds[1][1];\n\n            for (let {id, lon, lat} of clubGeoList) {\n                if (lat >= latMin && lat <= latMax && lon >= lonMin && lon <= lonMax) {\n                    // placemark in visible area\n                    clubPlacemarks[id] = clubPlacemarks[id] || createClubPlacemark(id, lon, lat);\n\n                    clubPlacemarks[id].options.set('visible', true);\n                } else if (clubPlacemarks[id]) {\n                    // placemark exists, but not in visible area\n                    clubPlacemarks[id].options.set('visible', false);\n                }\n            }\n        }\n\n        function createClubPlacemark(id, lon, lat) {\n            let placemark = new ymaps.Placemark([lat, lon], {}, {\n                // Опции.\n                // Необходимо указать данный тип макета.\n                iconLayout: 'default#image',\n                // Своё изображение иконки метки.\n                iconImageHref: '/img/ballon.svg',\n                // Размеры метки.\n                iconImageSize: [42, 60],\n                // Смещение левого верхнего угла иконки относительно\n                // её \"ножки\" (точки привязки).\n                iconImageOffset: [-14, -40],\n                zIndex: 1\n            });\n\n            placemark.events.add('click', function() {\n                let $club = jQuery(`.sc_list [data-id='${id}']`);\n\n                jQuery('.active[data-role-club]').removeClass('active');\n                jQuery('.sc_list .sc_item.another_city').hide();\n\n                if ($club.hasClass('another_city')) {\n                    $club.show();\n                }\n\n                activateClubById(id);\n                scrollToElement(wrapper, scrollParent, $club);\n\n                $club.addClass('active');\n            });\n\n            clusterer.add(placemark);\n\n            return placemark;\n        }\n\n        setTimeout(renderMapPlacemarks, 150);\n\n        // myMap.setBounds(clusterer.getBounds(), {\n        //     checkZoomRange: true\n        // });\n    });\n\n});\n\n\n","jQuery(function() {\n\n//    in header\n    $('#city_selector').on('select2:select', function(e) {\n        var url = $('meta[name=\"site\"]').attr('content');\n        window.location.href = url + '/' + e.params.data.data;\n    });\n\n    $('#city_selector').select2({\n        ajax: {\n            url: $('meta[name=\"site\"]').attr('content') + '/searchCities?withR=true',\n            dataType: 'json'\n        },\n        cache: true\n    });\n\n// in club add modal\n    $('#add-club-form #select-сity').select2({\n        ajax: {\n            url: $('meta[name=\"site\"]').attr('content') + '/searchCities',\n            dataType: 'json',\n            data: function(params) {\n                return {\n                    q: params.term, // search term\n                    page: params.page,\n                    selected: $('#add-club-form #select-сity').val()\n                };\n            }\n        },\n        cache: true\n    });\n// in club add modal\n    $('#add-club-form #select-сity').on('select2:select', function(e) {\n        $('#add-club-form #select-subway').val('').change();\n        if (e.params.data.has_metro == 1) {\n            $('#add-club-form #select-subway').attr('disabled', false);\n        } else {\n            $('#add-club-form #select-subway').attr('disabled', true);\n        }\n\n    });\n\n// in club add modal\n    $('#add-club-form #select-subway').select2({\n        ajax: {\n            url: $('meta[name=\"site\"]').attr('content') + '/searchMetro',\n            dataType: 'json',\n            data: function(params) {\n                return {\n                    q: params.term, // search term\n                    page: params.page,\n                    city_id: $('#add-club-form #select-сity').val()\n                };\n            }\n        },\n        cache: true\n    });\n    $('#add-club-form #select-subway').on('select2:select', function(e) {\n        $('#add-club-form #select-subway option[value=\"' + e.params.data.id + '\"]').attr('data-line-color', '#' + e.params.data.color);\n    });\n\n});\n"]}